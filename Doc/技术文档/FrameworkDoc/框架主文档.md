# 运行环境
Unity 2022.3.15f1(暂定)

# 框架原则

1.由一个挂点启动，不能对场景任意东西进行编辑，方便多人协助

2.模块化清晰，工具链清晰，不同模块负责好各种职责

3.所有资源都使用固定的方式进行管理，方便后面更新和维护

4.使用接口隔离

# 具体设计
## 框架模块
1.主核心

    I.游戏初始化流程，比如先创建好运行环境等，判断好下载更新等功能（这里需要调用到资源管理模块）,进行版本更新检测后,加载热更新业务逻辑代码,再启动逻辑。
  
    II.游戏主循环,驱动逻辑所有逻辑的更新函数

2.资源管理模块

    I.资源文件的管理，图集管理
  
    II.资源的动态加载和动态卸载，设置缓存避免重复加载和卸载
  
    III.资源使用LRU算法来进行内存资源的卸载管理，触发LRU是当资源缓存内存占用总量达到一个阈值，避免资源僵尸内存

3.对象池，内存池

    I.对象池，回收游戏对象
  
    II.内存池，回收代码中new的对象，实现IObject接口的对象被释放时，不进行GC回收，放进内存池里

4.音频模块

    I.实现播放背景bgm
  
    II.实现播放音效
  
    III.音效资源的加载和释放管理，配合资源加载模块

5.本地数据保存模块

    I.实现指定路径文件夹，保存序列化的数据，不使用PlayerPrefs来进行保存

    II.序列化加载，序列化保存，序列化管理

6.日志模块

    I.分级打印，最好支持string.former的功能

    II.使用编译的宏进行进行控制释放输出日志

7.性能分析模块

    I.使用Profiler工具，写入代码中

8.网络模块

    I.通讯协议(Protobuf)

    II.连接会话管理，Socket状态的监听

9.业务逻辑（使用HybridCLR加载的工程dll）
  
    I.数据层代码

      游戏流程化模块的实现

      AI模块

    II.表现层代码

      UI框架的实现

10.工具链

    I.处理一些特殊场景下的工具链

11.配置表加载模块

12.多语言化

13.消息订阅，分发处理

  
  
