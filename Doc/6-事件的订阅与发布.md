事件定义

在EventType中

public struct TestEventStruct //事件名
{
    public int TestValue;//参数
}

事件订阅

[Event(SceneType.Demo)]
public class TestEventStruct_Debug : AEvent<Scene,TestEventStruct>
{
    protected override async ETTask  Run(Scene scene, TestEventStruct a)
    {
        Log.Debug(a.TestValue.ToString());
        await ETTask.CompletedTask;
    }
}

事件发布

异步发布

await EventSystem.Instance.PublishAsync(root, new TestEventStruct(){TestValue = 10});

同步发布：发布完立即执行后面的语句

EventSystem.Instance.Publish(root, new TestEventStruct(){TestValue = 10});
